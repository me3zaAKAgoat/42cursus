change the way the scaling works into a single scale factor for both Z and XY but one that intially depends on the maximum value of z in the whole map
look up color interpolation to make gradients in brahznik and his sources
