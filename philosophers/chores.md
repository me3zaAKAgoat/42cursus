- protect all functions that can fail!
- handle failure of sem functions
- fix -fsanitize issues and warnings in mandatory
